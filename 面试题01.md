> 面经链接：[https://www.nowcoder.com/discuss/52132](https://www.nowcoder.com/discuss/52132)
> 站在面试的角度回答问题！

1. 智能指针的作用？

> 首先回答智能指针的概念：智能指针是解决不经意间的小疏忽造成的资源泄露的一种手段，它采取是RAII的思想，即资源分配即初始化，定义一个类来封装资源的分配和释放，在构造函数中完成资源的分配和初始化，在析构函数中完成资源的清理，可以保证资源的正确初始化和释放。

> 智能指针主要有如下五种，auto_ptr、scoped_ptr、shared_ptr、weak_ptr,下面分别介绍每个智能指针的特点优缺点。


1. 首先对于auto_ptr来说，它的特点就是简单，但是既不推荐使用，因为它使用的是权限转移的思想，即任何时候只能有一个智能指针去管理这个资源。使用起来弊端较多。
2. scoped_ptr，它的设计比较简单粗暴，使用的是防拷贝的思想设计，即对于拷贝构造函数和赋值运算符重载函数只进行声明而不实现，从而拒绝智能指针之间的拷贝工作。虽然他提高了智能指针的安全性，但是也不够完美
3. shared_ptr、它采用的是引用计数的思想来实现智能指针之间可以拷贝。即多了int *refcount这个成员。假如有如下拷贝动作
```c++
shared_ptr<int> a=int new(10);
shared_ptr<int> b=a;
```
> 这个时候b就会和a指向同一块资源，并且b的引用计数也和a的引用计数指向同一块资源，并且将此块应用计数+1,这就是shared_ptr的实现的核心思想。但是它最大的缺点就是会产生循环引用，即两个只能智能引用同一个只能指针从而产生的问题。下面我用代码来说明问题.解决引用计数的就是weak_ptr了，它只是用来托管资源，不进行任何操作。


2. c纯虚函数的作用和实现方式

> 纯虚函数是在基类中声明的虚函数，它在基类中没有定义，但要求任何派生类都要定义自己的实现方法。在基类中实现纯虚函数的方法是在函数原型后加“=0”
```c++
virtual void funtion1()=0
```
其作用：　
1、为了方便使用多态特性，我们常常需要在基类中定义虚拟函数。
2、在很多情况下，基类本身生成对象是不合情理的。例如，动物作为一个基类可以派生出老虎、孔雀等子类，但动物本身生成对象明显不合常理。

> 为了解决上述问题，引入了纯虚函数的概念，将函数定义为纯虚函数（方法：virtual ReturnType Function()= 0;），则编译器要求在派生类中必须予以重写以实现多态性。同时含有纯虚拟函数的类称为抽象类，它不能生成对象。这样就很好地解决了上述两个问题。